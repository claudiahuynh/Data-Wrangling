p8105_mh4589_hw2
================
My An Huynh
2024-09-25

Import the `subway` dataset

``` r
subway_df = 
  read_csv("data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv", na = c("NA", "", ".")) |>
  janitor::clean_names() |> 
  mutate( 
   entry = ifelse(is.na(entry), FALSE, TRUE)) |> 
  select(line, station_name, station_latitude, station_longitude, route1:route11, entry, vending, entrance_type, ada) 
```

    ## Rows: 1868 Columns: 32
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (22): Division, Line, Station Name, Route1, Route2, Route3, Route4, Rout...
    ## dbl  (8): Station Latitude, Station Longitude, Route8, Route9, Route10, Rout...
    ## lgl  (2): ADA, Free Crossover
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

This dataset contains information on the NYC subway system. It includes
division, line, station names within each line, and the routes each line
serves. It also includes information on vending, staffing and
accessibility (whether the station is ADA compliant, and entrance
types). It also includes geographical information such as north-south
streets, east-west streets, corner(NW, SW, etc), station location,
longitude and latitude as well as entry location, longitude and
latitude.

I retained these following variables: line, station name, station
latitude, station longitude, routes served, entry, vending, entrance
type and ADA compliance. The resulting data set contains 19 columns and
1868 rows.

The data is still not very tidy.

There are 465 distinct stations by line and by name. There are a total
of 468 stations that are ADA compliant. There are 183 stations out of
1868 stations that allow entry without vending.

\#Problem 2

``` r
mr_trash_df = 
  read_excel(
     "data/202309 Trash Wheel Collection Data.xlsx", 
    sheet = "Mr. Trash Wheel",
    na = c("NA", "", "."),
    skip = 1,
    n_max = 584,
  ) |> 
  janitor::clean_names() |> 
  mutate(
    sports_balls = as.integer(sports_balls),
    year = as.numeric(year),
    trash_wheel = "mr_trash"
  ) |> 
  select(dumpster:homes_powered, -x15, -x16)
```

    ## New names:
    ## • `` -> `...15`
    ## • `` -> `...16`

``` r
prof_trash_df = 
  read_excel(
     "data/202309 Trash Wheel Collection Data.xlsx", 
    sheet = "Professor Trash Wheel",
    na = c("NA", "", "."),
    skip = 1,
    n_max = 106,
  ) |> 
  janitor::clean_names()  |> 
  mutate(
    trash_wheel = "prof_trash"
  )
```

``` r
gwynnda_df = 
  read_excel(
     "data/202309 Trash Wheel Collection Data.xlsx", 
    sheet = "Gwynnda Trash Wheel",
    na = c("NA", "", "."),
    skip = 1,
    n_max = 155,
  ) |> 
  janitor::clean_names() |> 
  mutate(
    trash_wheel = "gwynnda"
  )
```

``` r
trash_wheel_df = 
  bind_rows(mr_trash_df, prof_trash_df, gwynnda_df) |> 
  janitor::clean_names()
relocate(trash_wheel_df, dumpster, trash_wheel)
```

    ## # A tibble: 845 × 15
    ##    dumpster trash_wheel month  year date                weight_tons
    ##       <dbl> <chr>       <chr> <dbl> <dttm>                    <dbl>
    ##  1        1 <NA>        May    2014 2014-05-16 00:00:00        4.31
    ##  2        2 <NA>        May    2014 2014-05-16 00:00:00        2.74
    ##  3        3 <NA>        May    2014 2014-05-16 00:00:00        3.45
    ##  4        4 <NA>        May    2014 2014-05-17 00:00:00        3.1 
    ##  5        5 <NA>        May    2014 2014-05-17 00:00:00        4.06
    ##  6        6 <NA>        May    2014 2014-05-20 00:00:00        2.71
    ##  7        7 <NA>        May    2014 2014-05-21 00:00:00        1.91
    ##  8        8 <NA>        May    2014 2014-05-28 00:00:00        3.7 
    ##  9        9 <NA>        June   2014 2014-06-05 00:00:00        2.52
    ## 10       10 <NA>        June   2014 2014-06-11 00:00:00        3.76
    ## # ℹ 835 more rows
    ## # ℹ 9 more variables: volume_cubic_yards <dbl>, plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, glass_bottles <dbl>,
    ## #   plastic_bags <dbl>, wrappers <dbl>, sports_balls <int>, homes_powered <dbl>

``` r
select(trash_wheel_df, dumpster:homes_powered)
```

    ## # A tibble: 845 × 14
    ##    dumpster month  year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr> <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00        4.31                 18
    ##  2        2 May    2014 2014-05-16 00:00:00        2.74                 13
    ##  3        3 May    2014 2014-05-16 00:00:00        3.45                 15
    ##  4        4 May    2014 2014-05-17 00:00:00        3.1                  15
    ##  5        5 May    2014 2014-05-17 00:00:00        4.06                 18
    ##  6        6 May    2014 2014-05-20 00:00:00        2.71                 13
    ##  7        7 May    2014 2014-05-21 00:00:00        1.91                  8
    ##  8        8 May    2014 2014-05-28 00:00:00        3.7                  16
    ##  9        9 June   2014 2014-06-05 00:00:00        2.52                 14
    ## 10       10 June   2014 2014-06-11 00:00:00        3.76                 18
    ## # ℹ 835 more rows
    ## # ℹ 8 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, sports_balls <int>, homes_powered <dbl>
